<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Study Progress Tracker</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 2em; }
    .chapter { margin-bottom: 1.5em; }
    .report-bar { background: #eee; border-radius: 5px; overflow: hidden; width: 200px; height: 20px; margin-top: 5px;}
    .report-bar-inner { background: #4caf50; height: 100%; }
    .notes { width: 100%; min-height: 60px; }
  </style>
</head>
<body>
  <h1>Study Progress Tracker</h1>

  <div id="chapters"></div>

  <h2>Reports</h2>
  <div id="report"></div>

  <script>
    // -- Configurable chapters (add/edit as needed) --
    const chapters = [
      { id: 'ch1', name: 'Introduction' },
      { id: 'ch2', name: 'Getting Started' },
      { id: 'ch3', name: 'Advanced Concepts' }
    ];

    // Load progress and notes from LocalStorage
    function loadProgress() {
      return JSON.parse(localStorage.getItem('progress')) || {};
    }
    function saveProgress(progress) {
      localStorage.setItem('progress', JSON.stringify(progress));
    }
    function loadNotes(chapterId) {
      return localStorage.getItem('notes_' + chapterId) || '';
    }
    function saveNotes(chapterId, content) {
      localStorage.setItem('notes_' + chapterId, content);
    }

    // Render chapters UI
    function renderChapters() {
      const progress = loadProgress();
      const container = document.getElementById('chapters');
      container.innerHTML = '';
      chapters.forEach(ch => {
        const div = document.createElement('div');
        div.className = 'chapter';

        // Progress checkbox
        const checkbox = document.createElement('input');
        checkbox.type = 'checkbox';
        checkbox.checked = !!progress[ch.id];
        checkbox.onchange = () => {
          progress[ch.id] = checkbox.checked;
          saveProgress(progress);
          renderReport();
        };

        // Notes textarea
        const notes = document.createElement('textarea');
        notes.className = 'notes';
        notes.value = loadNotes(ch.id);
        notes.placeholder = 'Your notes for ' + ch.name;
        notes.oninput = () => saveNotes(ch.id, notes.value);

        div.appendChild(checkbox);
        div.appendChild(document.createTextNode(' ' + ch.name));
        div.appendChild(document.createElement('br'));
        div.appendChild(notes);
        container.appendChild(div);
      });
    }

    // Render report
    function renderReport() {
      const progress = loadProgress();
      const report = document.getElementById('report');
      let completed = 0;
      chapters.forEach(ch => { if (progress[ch.id]) completed++; });
      const total = chapters.length;
      const percent = Math.round((completed / total) * 100);

      // Progress bar
      report.innerHTML = `<div>Overall Progress: ${completed} / ${total} chapters (${percent}%)</div>
        <div class="report-bar"><div class="report-bar-inner" style="width:${percent}%"></div></div>
        <ul>` +
        chapters.map(ch =>
          `<li>${ch.name}: <b>${progress[ch.id] ? 'Completed' : 'Incomplete'}</b></li>`
        ).join('') +
        `</ul>`;
    }

    // Init
    renderChapters();
    renderReport();
  </script>
</body>
</html>
